<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROOT ACCESS - Am3i</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Share+Tech+Mono&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- Â§âÊï∞ÂÆöÁæ© --- */
        :root {
            --primary-color: #ff0055;
            --secondary-color: #330000;
            --accent-color: #00e6e6;
            --bg-color: #050000;
            --text-color: #ffcccc;
            --terminal-bg: rgba(10, 0, 0, 0.95);
            --snake-color: #aa00ff; /* Ëõá„É¢„Éº„ÉâÁî® */
            --poison-color: #00ff00; /* Ëõá„É¢„Éº„ÉâÁî® */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Share Tech Mono', 'Noto Sans JP', monospace;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 2s ease;
        }

        /* --- Snake Mode Styles --- */
        body.snake-mode {
            --primary-color: #bf00ff;
            --bg-color: #0a0014;
            --text-color: #e0b0ff;
            --terminal-bg: rgba(20, 0, 30, 0.95);
        }
        body.snake-mode .scanlines {
            background: linear-gradient(to bottom, rgba(0,255,0,0.1), rgba(0,0,0,0) 50%);
            background-size: 100% 4px;
        }
        body.snake-mode .terminal-header {
            background: #1a0022;
            color: var(--poison-color);
            border-bottom: 1px solid var(--snake-color);
        }
        body.snake-mode .prompt-text {
            color: var(--poison-color) !important;
        }

        /* --- Abyss Dive Animation (ÈÅ∑ÁßªÊºîÂá∫) --- */
        body.abyss-dive {
            animation: diveIntoAbyss 3s forwards cubic-bezier(0.7, 0, 0.84, 0);
        }
        body.abyss-dive .terminal-container {
            animation: collapseTerminal 2s forwards ease-in;
            border-color: #fff;
        }
        body.abyss-dive .scanlines {
            display: none;
        }

        @keyframes diveIntoAbyss {
            0% { transform: scale(1); filter: hue-rotate(0deg) brightness(1); }
            20% { transform: scale(1.1); filter: hue-rotate(90deg) brightness(2) invert(0); }
            50% { background-color: #fff; filter: hue-rotate(180deg) brightness(5) invert(1); }
            90% { transform: scale(0.01) rotate(180deg); background-color: #000; filter: brightness(0); }
            100% { transform: scale(0); opacity: 0; background-color: #000; }
        }

        @keyframes collapseTerminal {
            0% { transform: scale(1); }
            50% { transform: scale(0.8) skew(20deg); opacity: 0.8; }
            100% { transform: scale(0) rotate(720deg); opacity: 0; }
        }

        /* --- ËÉåÊôØ„Ç®„Éï„Çß„ÇØ„Éà --- */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.2;
            transition: opacity 1s;
        }
        body.abyss-dive #bg-canvas {
            opacity: 1;
        }

        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.3));
            background-size: 100% 4px;
            z-index: 10;
            pointer-events: none;
        }

        .crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,0,0,0) 60%, rgba(50,0,0,0.4) 100%);
            z-index: 11;
            pointer-events: none;
        }

        /* --- „Çø„Éº„Éü„Éä„É´„Ç≥„É≥„ÉÜ„Éä --- */
        .terminal-container {
            width: 900px;
            max-width: 95%;
            height: 600px;
            max-height: 90vh;
            background: var(--terminal-bg);
            border: 1px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(255, 0, 85, 0.2);
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 20;
            transition: all 1s ease;
        }

        .terminal-header {
            background: #1a0005;
            border-bottom: 1px solid var(--primary-color);
            padding: 8px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            color: var(--primary-color);
        }

        .status-badge {
            background: var(--primary-color);
            color: #000;
            padding: 2px 6px;
            font-weight: bold;
            border-radius: 2px;
            font-size: 0.7rem;
        }

        .terminal-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            font-size: 1rem;
            line-height: 1.4;
            color: var(--text-color);
            font-family: 'Share Tech Mono', monospace;
        }

        /* --- „ÉÜ„Ç≠„Çπ„ÉàË£ÖÈ£æ --- */
        .line { margin-bottom: 5px; word-break: break-all; }
        .prompt-text { color: var(--primary-color); margin-right: 10px; }
        .success { color: #00ffaa; }
        .error { color: #ff3333; }
        .warning { color: #ffaa00; }
        .system { color: #888; font-style: italic; }
        .encrypted { color: #ff0055; text-shadow: 0 0 5px red; }
        
        .binary-highlight { color: #00e6e6; font-weight: bold; }
        .hex-highlight { color: #ffcc00; font-weight: bold; }
        .hidden-clue { color: #444; } /* ÈÅ∏Êäû„Åó„Å™„ÅÑ„Å®Ë¶ã„Å•„Çâ„ÅÑËâ≤ */
        
        /* Ëõô„É°„ÉÉ„Çª„Éº„Ç∏Áî® */
        .frog-msg { color: #aaff00; }
        
        /* Ëõá„É°„ÉÉ„Çª„Éº„Ç∏Áî® */
        .snake-msg { color: #d000ff; text-shadow: 0 0 5px #d000ff; }

        /* --- ÂÖ•Âäõ„Ç®„É™„Ç¢ --- */
        .input-line {
            display: flex;
            align-items: center;
        }
        
        #cmd-input {
            background: transparent;
            border: none;
            color: #fff;
            font-family: 'Share Tech Mono', monospace;
            font-size: 1rem;
            flex: 1;
            outline: none;
            caret-color: var(--primary-color);
        }

        /* --- „Ç∞„É™„ÉÉ„ÉÅÊºîÂá∫ --- */
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 1px); }
            40% { transform: translate(-2px, -1px); }
            60% { transform: translate(2px, 1px); }
            80% { transform: translate(2px, -1px); }
            100% { transform: translate(0); }
        }
        .glitch-text {
            animation: glitch 0.3s infinite;
            display: inline-block;
        }
        
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        /* „Çπ„ÇØ„É≠„Éº„É´„Éê„Éº */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: var(--primary-color); }
    </style>
</head>
<body>

    <div class="scanlines"></div>
    <div class="crt-overlay"></div>
    <canvas id="bg-canvas"></canvas>

    <div class="terminal-container" onclick="document.getElementById('cmd-input').focus()">
        <div class="terminal-header">
            <span><i class="fas fa-microchip"></i> KERO_OS Kernel v4.4.2</span>
            <span id="lock-status" class="status-badge">LOCKED</span>
        </div>
        
        <div class="terminal-body" id="terminal-output">
            <!-- Ëµ∑Âãï„É≠„Ç∞ -->
        </div>
        
        <div style="padding: 0 20px 20px 20px;">
            <div class="input-line">
                <span class="prompt-text">guest@swamp:~$</span>
                <input type="text" id="cmd-input" autocomplete="off" spellcheck="false" autofocus>
            </div>
        </div>
    </div>

    <script>
        // --- Ë®≠ÂÆö„ÉªÁä∂ÊÖã ---
        const output = document.getElementById('terminal-output');
        const input = document.getElementById('cmd-input');
        const lockStatus = document.getElementById('lock-status');
        const container = document.querySelector('.terminal-container');
        
        let state = {
            isLocked: true,
            snakeMode: false
        };
        
        let matrixInterval; // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Âà∂Âæ°Áî®

        // Ëµ∑Âãï„Ç∑„Éº„ÇØ„Ç®„É≥„Çπ
        const bootLogs = [
            "Initializing KERO_OS...",
            "Loading memory modules... [OK]",
            "Mounting /dev/swamp... [OK]",
            "Checking security clearance...",
            "<span class='error'>[ERROR] Biometric verification failed.</span>",
            "<span class='warning'>[WARNING] Guest access restricted. File system encrypted.</span>",
            "<span class='system'>Hint: The password is hidden in the 'noise' of the Developer Tools Console.</span>",
            "Type 'help' for available commands."
        ];

        // --- Ë¨éËß£„ÅçÁî®„Éá„Éº„Çø ---
        // ÈñãÁô∫ËÄÖ„ÉÑ„Éº„É´(F12)„Å´Âá∫„Åô„Éí„É≥„Éà (Phase 1)
        const CONSOLE_HINT = `
        %c üê∏ RIBBIT RIBBIT üê∏
        %c ---------------------------------------------------
        %c [SYSTEM LOG] Corrupted Key Segment Found:
        %c "0x46 0x52 0x4f 0x47"
        %c ---------------------------------------------------
        %c (Hex to ASCII...?)
        `;

        // --- „Ç≥„Éû„É≥„ÉâÂá¶ÁêÜ„Ç∑„Çπ„ÉÜ„É† ---
        const commands = {
            'help': () => {
                let cmds = "Available commands:<br>&nbsp; help &nbsp;&nbsp;- Show this list<br>&nbsp; ls &nbsp;&nbsp;&nbsp;&nbsp;- List directory contents<br>&nbsp; clear &nbsp;- Clear terminal<br>&nbsp; exit &nbsp;&nbsp;- Return to Portal";
                if (state.isLocked) {
                    cmds += "<br>&nbsp; unlock - Unlock file system (Requires Password)";
                } else {
                    cmds += "<br>&nbsp; cat &nbsp;&nbsp;&nbsp;- Read file (Usage: cat [filename])";
                }
                return cmds;
            },
            'ls': () => {
                if (state.isLocked) {
                    return "<span class='encrypted'><i class='fas fa-lock'></i> profile.dat [ENCRYPTED]</span><br>" +
                           "<span class='encrypted'><i class='fas fa-lock'></i> message.txt [ENCRYPTED]</span><br>" +
                           "<span class='encrypted'><i class='fas fa-lock'></i> secret_project.bin [ENCRYPTED]</span><br>" +
                           "<span class='system'>* Access Denied. Use 'unlock' to decrypt.</span>";
                } else {
                    return "<span class='success'>profile.dat</span><br>" +
                           "<span class='success'>message.txt</span><br>" +
                           "<span class='success'>secret_project.bin</span>";
                }
            },
            'clear': () => {
                output.innerHTML = "";
                return "";
            },
            'unlock': (args) => {
                if (!state.isLocked) return "System is already unlocked.";
                if (!args[0]) return "Usage: unlock [password]";
                
                const pass = args[0].toUpperCase();
                // Phase 1 Á≠î„Åà: FROG
                if (pass === 'FROG' || pass === 'KAERU' || pass === 'AM3I') {
                    state.isLocked = false;
                    lockStatus.textContent = "UNLOCKED";
                    lockStatus.style.background = "#00ffaa";
                    document.querySelector('.prompt-text').textContent = "admin@swamp:~$";
                    document.querySelector('.prompt-text').style.color = "#00ffaa";
                    
                    // Phase 2„Å∏„ÅÆ„Éí„É≥„Éà
                    setTimeout(() => {
                        printLine("<br><span class='warning'>[SYSTEM NOTICE] Converter Modules Loaded:</span>");
                        printLine("<span class='system'> - Binary (0101...) -> ASCII text</span>");
                        printLine("<span class='system'> - Hex (0x4A...) -> ASCII text</span>");
                        printLine("<span class='system'> - Pattern Recognition (Read carefully)</span>");
                        printLine("<span class='highlight'>Combine fragments from ALL files to proceed deeper.</span>");
                    }, 1000);

                    return "<span class='success'>Access Granted. Decryption Complete.</span><br>Welcome back, Amphibian Commander.";
                } else {
                    return "<span class='error'>[ACCESS DENIED] Incorrect Password.</span>";
                }
            },
            'cat': (args) => {
                if (state.isLocked) return "<span class='error'>[ERROR] File system is encrypted. Unlock first.</span>";
                if (!args[0]) return "Usage: cat [filename]";

                const file = args[0].toLowerCase();
                
                // --- ÊøÄ„É†„Ç∫Ë¨éËß£„Åç„Éë„Éº„Éà ---
                // Á≠î„Åà: invoke SERPENT
                // 1. invoke (message.txt: È†≠ÊñáÂ≠ó)
                // 2. SER (profile.dat: Binary)
                // 3. PENT (secret_project.bin: Hex)

                if (file === 'profile.dat' || file === 'profile') {
                    return `
<div style="border:1px solid #00ffaa; padding:10px; color:#00ffaa;">
[USER PROFILE]<br>
ID: Am3i<br>
CLASS: Amphibia<br>
<span class="system"># GENOME SEQUENCE (SEGMENT A):</span><br>
<span class="binary-highlight">01010011 01000101 01010010</span><br>
<br>
HABITAT: Localhost<br>
LIKES: Clean Code, Rain<br>
NOTE: The genome is incomplete. Seek the tail in the binary.<br>
</div>`;
                } else if (file === 'message.txt' || file === 'message') {
                    return `
<div class="frog-msg">
„Ç≤„É≠„Ç≤„É≠...<br>
<br>
<strong>i</strong>nitiate Êé•Á∂ö„É≤ÈñãÂßã„Çª„É®...<br>
<strong>n</strong>eural Á•ûÁµåÂõûË∑Ø„É≤Áπã„Ç≤...<br>
<strong>v</strong>oice Â£∞„Éä„Ç≠Â£∞„É≤ËÅ¥„Ç±...<br>
<strong>o</strong>f Ê∑±Ê∑µ„Éé...<br>
<strong>k</strong>ernel Ê†∏„Éà„Éä„É´...<br>
<strong>e</strong>ngine ÂéüÂãïÂäõ„É≤...<br>
<br>
Á∏¶„ÉãË™≠„ÉüËß£„Ç≠„ÄÅ„ÇΩ„ÉéË®ÄËëâ„É≤ÂëΩ‰ª§(Command)„Éà„Çª„É®„ÄÇ<br>
<span class="system">(Read the first letters of the bold words)</span>
</div>`;
                } else if (file === 'secret_project.bin' || file.includes('secret')) {
                    return `
<span class="system">Dump of 0x08004000:</span><br>
<pre style="font-size:10px; line-height:12px; color:#aaa;">
00000000: 4B 45 52 4F 5F 4F 53 00  |.KERO_OS.|
00000010: 53 59 53 54 45 4D 5F 48  |.SYSTEM_H|
00000020: 41 4C 54 2E 2E 2E 2E 2E  |ALT.....|
00000030: <span class="hex-highlight">50 45 4E 54</span> 00 00 00 00  |.<span class="hex-highlight">????</span>....|
00000040: 00 00 00 00 00 00 00 00  |........|
</pre>
<span class="system">WARNING: Memory segment 0x30 corrupted. Manual Hex-to-ASCII conversion required for the tail.</span>
`;
                } else {
                    return `<span class='error'>File not found: ${file}</span>`;
                }
            },
            // --- Èö†„Åó„Ç≥„Éû„É≥„Éâ: invoke [SERPENT] ---
            'invoke': (args) => {
                if (!args[0]) return "<span class='warning'>Usage: invoke [TARGET_ENTITY]</span><br><span class='system'>Target entity name required. Combine the keys from the files.</span>";
                
                const target = args[0].toUpperCase();
                if (target === 'SERPENT' || target === 'SNAKE' || target === 'OROCHI') {
                    triggerSnakeMode();
                    return "<span class='glitch-text' style='color:#bf00ff; font-size:1.5em;'>SYSTEM BREACH DETECTED. THE ANCIENT ONE AWAKENS.</span>";
                } else {
                    return `<span class='error'>Connection failed: Entity '${target}' not found in the void.</span>`;
                }
            },
            'exit': () => {
                setTimeout(() => { window.location.href = 'index.html'; }, 500);
                return "Terminating session...";
            }
        };

        // --- Ëõá„É¢„Éº„ÉâÁô∫Âãï ---
        function triggerSnakeMode() {
            if (state.snakeMode) return;
            state.snakeMode = true;
            
            // ÁîªÈù¢„ÅÆÊè∫„Çå
            document.body.style.animation = "shake 0.5s cubic-bezier(.36,.07,.19,.97) both";
            setTimeout(() => { document.body.style.animation = ""; }, 500);

            // „Çπ„Çø„Ç§„É´Â§âÊõ¥
            document.body.classList.add('snake-mode');
            
            // Ëõá„ÅÆË°®Á§∫
            setTimeout(() => {
                const snakeArt = `
<pre class="snake-msg" style="font-size: 8px; line-height: 8px; font-weight: bold;">
           /^\\/^\\
         _|__|  O|
\\/     /~     \\_/ \\
 \\____|__________/  \\
        \\_______      \\
                \`\\     \\                 \\
                  |     |                  \\
                 /      /                    \\
                /     /                       \\\\
              /      /                         \\ \\
             /     /                            \\  \\
           /     /             _----_            \\   \\
          /     /           _-~      ~-_         |   |
         (      (        _-~    _--_    ~-_     _/   |
          \\      ~-____-~    _-~    ~-_    ~-_-~    /
            ~-_           _-~          ~-_       _-~
               ~--______-~                ~-___-~
</pre>
<div class="snake-msg" style="margin-top:20px; font-size: 1.2rem;">
    WELCOME TO THE SNAKE DEN.<br>
    The Frog was merely a vessel.<br>
    <br>
    <a href="#" onclick="enterAbyss(event)" style="color:#00ff00; text-decoration:underline; cursor:pointer;">[ENTER THE ABYSS]</a>
</div>
                `;
                printLine(snakeArt);
                
                // „Éó„É≠„É≥„Éó„ÉàÂ§âÊõ¥
                document.querySelector('.prompt-text').textContent = "serpent@abyss:~$";
                document.querySelector('.prompt-text').style.color = "#00ff00";
            }, 1000);
            
            // ËÉåÊôØ„Éë„Éº„ÉÜ„Ç£„ÇØ„É´„ÇíÁ¥´„Å´
            drops.forEach((_, i) => drops[i] = Math.random() * -100); // „É™„Çª„ÉÉ„Éà
        }

        // --- Ê∑±Ê∑µ„Å∏„ÅÆ„ÉÄ„Ç§„Éñ (ÈÅ∑ÁßªÊºîÂá∫) ---
        function enterAbyss(e) {
            e.preventDefault();
            
            // Èü≥„ÅØÂá∫„Åõ„Å™„ÅÑ„Åå„ÄÅË¶ñË¶öÁöÑ„Å´„ÄåÂê∏„ÅÑËæº„Åæ„Çå„Çã„ÄçÊºîÂá∫
            document.body.classList.add('abyss-dive');
            
            // „Éû„Éà„É™„ÉÉ„ÇØ„ÇπÊºîÂá∫„ÇíË∂ÖÈ´òÈÄüÂåñÔºÜ„Ç´„Ç™„ÇπÂåñ
            clearInterval(matrixInterval);
            matrixInterval = setInterval(draw, 5);
            
            // ÂÖ•ÂäõÁÑ°ÂäπÂåñ
            input.disabled = true;
            
            setTimeout(() => {
                window.location.href = 'abyss.html';
            }, 2500); // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÁµÇ‰∫Ü„Å´Âêà„Çè„Åõ„Å¶ÈÅ∑Áßª
        }


        // --- Âá¶ÁêÜÂÆüË°å ---
        function printLine(text, isHTML = true) {
            const div = document.createElement('div');
            div.className = 'line';
            if (isHTML) div.innerHTML = text;
            else div.textContent = text;
            output.appendChild(div);
            output.scrollTop = output.scrollHeight;
        }

        async function init() {
            // „Ç≥„É≥„ÇΩ„Éº„É´„Éí„É≥„ÉàÂá∫Âäõ
            console.log(CONSOLE_HINT, 
                "color: #00ffaa; font-size: 20px; font-weight: bold;", 
                "color: #888;", 
                "color: #ff3333;", 
                "color: #fff; background: #330000; padding: 5px;",
                "color: #888;", 
                "color: #aaa; font-style: italic;"
            );

            // „Éñ„Éº„Éà„É≠„Ç∞Ë°®Á§∫
            for (let line of bootLogs) {
                printLine(line);
                await new Promise(r => setTimeout(r, 300 + Math.random() * 400));
            }
        }

        // „Ç≥„Éû„É≥„ÉâÂÖ•Âäõ„Ç§„Éô„É≥„Éà
        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const val = input.value.trim();
                if (!val) return;
                
                // „É¶„Éº„Ç∂„ÉºÂÖ•Âäõ„ÇíË°®Á§∫
                let prompt = state.isLocked ? "guest@swamp:~$" : "admin@swamp:~$";
                if(state.snakeMode) prompt = "serpent@abyss:~$";

                let promptColor = state.isLocked ? "var(--primary-color)" : "#00ffaa";
                if(state.snakeMode) promptColor = "#00ff00";
                
                const userLine = `<span style="color:${promptColor}; margin-right:10px;">${prompt}</span>${val}`;
                printLine(userLine);
                
                // „Ç≥„Éû„É≥„ÉâËß£Êûê
                const args = val.split(/\s+/);
                const cmd = args.shift().toLowerCase();
                
                let response = "";
                if (commands[cmd]) {
                    response = commands[cmd](args);
                } else {
                    response = `<span class='error'>Command not found: ${cmd}. Type 'help' for assistance.</span>`;
                }
                
                if (response) printLine(response);
                
                input.value = "";
            }
        });

        // Â∏∏„Å´„Éï„Ç©„Éº„Ç´„Çπ
        document.addEventListener('click', () => {
            if(!input.disabled) input.focus();
        });

        // „Çπ„Çø„Éº„Éà
        init();

        // --- ËÉåÊôØ„Éë„Éº„ÉÜ„Ç£„ÇØ„É´ (Red -> Purple) ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        
        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        const chars = "01SNAKE";
        const drops = [];
        const fontSize = 14;
        
        // ÂàùÊúüÂåñ
        for(let x = 0; x < width/fontSize; x++) {
            drops[x] = 1;
        }

        function draw() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
            ctx.fillRect(0, 0, width, height);

            // „É¢„Éº„Éâ„Å´„Çà„Å£„Å¶Ëâ≤„ÇíÂ§â„Åà„Çã
            if (state.snakeMode) {
                ctx.fillStyle = "#aa00ff"; // Ëõá„É¢„Éº„ÉâÔºöÁ¥´
            } else {
                ctx.fillStyle = "#ff0055"; // ÈÄöÂ∏∏ÔºàË≠¶ÂëäÔºâÔºöËµ§
            }
            
            ctx.font = fontSize + "px monospace";

            for(let i = 0; i < drops.length; i++) {
                const text = chars.charAt(Math.floor(Math.random() * chars.length));
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if(drops[i] * fontSize > height && Math.random() > 0.975)
                    drops[i] = 0;
                
                drops[i]++;
            }
        }
        matrixInterval = setInterval(draw, 33); // ÂàùÊúü„Ç§„É≥„Çø„Éº„Éê„É´„Çí‰øùÂ≠ò

    </script>
</body>
</html>